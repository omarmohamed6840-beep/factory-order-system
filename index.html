<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>MT FACTORY Order System</title>
  <style>
    body {
      font-family: Arial;
      direction: rtl;
      background: #f2f6fb;
      padding: 20px;
      color: #0b3a7e;
    }
    h1 { text-align: center; }
    .box {
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
    }
    button {
      background: #0b3a7e;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
    }
    .order {
      border-bottom: 1px solid #ddd;
      padding: 10px 0;
    }
  </style>
</head>
<body>

<h1>MT FACTORY<br>Order System</h1>

<div class="box">
  <h3>Ø¥Ø¶Ø§ÙØ© Ø£ÙˆØ±Ø¯Ø±</h3>
  <input id="customer" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
  <input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
  <input id="total" placeholder="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø¹Ø±">
  <input id="paid" placeholder="Ø§Ù„Ù…Ø¯ÙÙˆØ¹ (Ø¹Ø±Ø¨ÙˆÙ†)">
  <select id="status">
    <option>Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°</option>
    <option>ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„</option>
    <option>Ø¬Ø§Ù‡Ø²</option>
    <option>ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…</option>
  </select>
  <button onclick="addOrder()">Ø¥Ø¶Ø§ÙØ©</button>
</div>

<div class="box">
  <h3>Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª</h3>
  <div id="orders"></div>
</div>

<script>
  let orders = JSON.parse(localStorage.getItem("factory_orders") || "[]");
  const ordersDiv = document.getElementById("orders");

  function render() {
    ordersDiv.innerHTML = "";
    orders.forEach(o => {
      ordersDiv.innerHTML += `
        <div class="order">
          <strong>${o.customer}</strong> - ${o.phone}<br>
          Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${o.total} | Ø§Ù„Ù…Ø¯ÙÙˆØ¹: ${o.paid} | Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${o.total - o.paid}<br>
          Ø§Ù„Ø­Ø§Ù„Ø©: ${o.status}<br>
          <button onclick="printInvoice(${o.id})">Ø·Ø¨Ø§Ø¹Ø© ÙØ§ØªÙˆØ±Ø©</button>
        </div>
      `;
    });
    localStorage.setItem("factory_orders", JSON.stringify(orders));
  }

  function addOrder() {
    if (!customer.value || !phone.value || !total.value) {
      alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
      return;
    }

    orders.push({
      id: Date.now(),
      customer: customer.value,
      phone: phone.value,
      total: Number(total.value),
      paid: Number(paid.value || 0),
      status: status.value
    });

    customer.value = "";
    phone.value = "";
    total.value = "";
    paid.value = "";

    render();
  }

  function printInvoice(id) {
    const o = orders.find(x => x.id === id);
    const w = window.open("");
    w.document.write(`
      <h2>MT FACTORY</h2>
      <p>ÙØ§ØªÙˆØ±Ø©</p>
      <p>Ø§Ù„Ø¹Ù…ÙŠÙ„: ${o.customer}</p>
      <p>Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: ${o.phone}</p>
      <p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${o.total}</p>
      <p>Ø§Ù„Ù…Ø¯ÙÙˆØ¹: ${o.paid}</p>
      <p>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${o.total - o.paid}</p>
      <p>ğŸ“ 01044067766</p>
      <script>window.print()</script>
    `);
  }

  render();
</script>

</body>
</html>
